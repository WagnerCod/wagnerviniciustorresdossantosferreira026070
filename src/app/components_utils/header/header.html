@if(isVisible()){

<header class="sticky top-0 z-50 bg-white shadow-md">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">
      <!-- Logo -->
      <div class="flex items-center cursor-pointer" (click)="navigateTo('/home')">
        <mat-icon class="text-blue-600 !text-3xl !w-8 !h-8 mr-2">pets</mat-icon>
        <span class="text-xl font-bold text-gray-800 hidden sm:inline">Pet Manager</span>
        <span class="text-xl font-bold text-gray-800 sm:hidden">PM</span>
      </div>

      <!-- Desktop Navigation -->
      @if (isAuthenticated()) {
        <nav class="hidden md:flex items-center space-x-4">
          <button 
            mat-button 
            (click)="navigateTo('/pets')"
            class="!flex !items-center !gap-2 !text-gray-700 hover:!text-blue-600 hover:!bg-blue-50">
            <mat-icon>pets</mat-icon>
            <span>Pets</span>
          </button>

          <button 
            mat-button 
            (click)="navigateTo('/pets/register')"
            class="!flex !items-center !gap-2 !text-gray-700 hover:!text-blue-600 hover:!bg-blue-50">
            <mat-icon>add_circle</mat-icon>
            <span>Cadastrar Pet</span>
          </button>

          <button 
            mat-button 
            (click)="navigateTo('/tutors')"
            class="!flex !items-center !gap-2 !text-gray-700 hover:!text-blue-600 hover:!bg-blue-50">
            <mat-icon>people</mat-icon>
            <span>Tutores</span>
          </button>

          <button 
            mat-button 
            (click)="navigateTo('/tutors/resgiter-tutor')"
            class="!flex !items-center !gap-2 !text-gray-700 hover:!text-blue-600 hover:!bg-blue-50">
            <mat-icon>person_add</mat-icon>
            <span>Cadastrar Tutores</span>
          </button>

          <div class="!ml-4 !pl-4 !border-l !border-gray-300">
            <button 
              mat-icon-button 
              [matMenuTriggerFor]="userMenu"
              class="!text-gray-700">
              <mat-icon>account_circle</mat-icon>
            </button>
          </div>

          <mat-menu #userMenu="matMenu">
            <button mat-menu-item (click)="logout()">
              <mat-icon>logout</mat-icon>
              <span>Sair</span>
            </button>
          </mat-menu>
        </nav>
      }

      @if (!isAuthenticated()) {
        <div class="hidden md:flex items-center space-x-3">
          <button 
            mat-button 
            (click)="navigateTo('/login')"
            class="!text-blue-600">
            Entrar
          </button>
        </div>
      }

      <!-- Mobile Menu Button -->
      @if (isAuthenticated()) {
        <button 
          mat-icon-button 
          (click)="toggleMobileMenu()"
          class="md:!hidden !text-gray-700">
          <mat-icon>{{ mobileMenuOpen() ? 'close' : 'menu' }}</mat-icon>
        </button>
      }

      @if (!isAuthenticated()) {
        <button 
          mat-icon-button 
          (click)="navigateTo('/login')"
          class="md:!hidden !text-blue-600">
          <mat-icon>login</mat-icon>
        </button>
      }
    </div>

    <!-- Mobile Navigation -->
    @if (isAuthenticated() && mobileMenuOpen()) {
      <nav class="md:hidden pb-4 border-t border-gray-200 animate-fade-in">
        <div class="flex flex-col space-y-2 pt-4">
          <button 
            mat-button 
            (click)="navigateTo('/pets')"
            class="!flex !items-center !gap-2 !justify-start !text-gray-700 hover:!bg-blue-50 !w-full">
            <mat-icon>pets</mat-icon>
            <span>Pets</span>
          </button>

          <button 
            mat-button 
            (click)="navigateTo('/pets/register')"
            class="!flex !items-center !gap-2 !justify-start !text-gray-700 hover:!bg-blue-50 !w-full">
            <mat-icon>add_circle</mat-icon>
            <span>Cadastrar Pet</span>
          </button>

          <button 
            mat-button 
            (click)="navigateTo('/tutors')"
            class="!flex !items-center !gap-2 !justify-start !text-gray-700 hover:!bg-blue-50 !w-full">
            <mat-icon>people</mat-icon>
            <span>Tutores</span>
          </button>

          <div class="!pt-2 !border-t !border-gray-200">
            <button 
              mat-button 
              (click)="logout()"
              class="!flex !items-center !gap-2 !justify-start !text-red-600 hover:!bg-red-50 !w-full">
              <mat-icon>logout</mat-icon>
              <span>Sair</span>
            </button>
          </div>
        </div>
      </nav>
    }
  </div>
</header>
}